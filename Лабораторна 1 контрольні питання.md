# Об'єктно-орієнтоване програмування в C++

## 1. Поняття класу та структури

### Клас (Class)

**Клас** — це новий тип даних, який визначає формат об'єкта та містить як дані, так і програмні коди для роботи з ними. Клас є логічною абстракцією, яка не існує фізично до створення об'єкта.

**Ключові особливості класу:**

- Визначає структуру та поведінку об'єктів
- Містить атрибути (змінні-члени) та методи (функції-члени)
- Забезпечує інкапсуляцію через модифікатори доступу
- За замовчуванням всі члени є **private**

```cpp
class MyClass {
    int data;           // private за замовчуванням
public:
    void setData(int x) { data = x; }
    int getData() const { return data; }
};
```

### Структура (Struct)

**Структура** в C++ функціонально ідентична класу, але має одну ключову відмінність:

- За замовчуванням всі члени структури є **public**

```cpp
struct MyStruct {
    int data;           // public за замовчуванням
    void setData(int x) { data = x; }
};
```

**Порівняння класу та структури:**

| Аспект                  | Class                           | Struct                 |
| ----------------------- | ------------------------------- | ---------------------- |
| Доступ за замовчуванням | private                         | public                 |
| Призначення             | Складні об'єкти з інкапсуляцією | Прості структури даних |
| Функціональність        | Повна                           | Повна                  |

---

## 2. Оголошення та визначення класу

### Оголошення класу

Синтаксис оголошення класу:

```cpp
// Варіант 1: з переліком об'єктів
class ім'я_класу {
    // члени класу
} перелік_об'єктів_класу;

// Варіант 2: тільки оголошення типу
class ім'я_класу {
    // члени класу
};
```

### Визначення методів класу

**Методи можна визначити двома способами:**

#### 1. Всередині класу (inline за замовчуванням)

```cpp
class Calculator {
public:
    int add(int a, int b) {
        return a + b;  // автоматично inline
    }
};
```

#### 2. Поза класом з використанням оператора області видимості `::`

```cpp
class Calculator {
public:
    int add(int a, int b);  // тільки оголошення
};

// Визначення поза класом
int Calculator::add(int a, int b) {
    return a + b;
}
```

### Модифікатори доступу

- **`private`** — доступ тільки всередині класу
- **`public`** — доступ звідусіль
- **`protected`** — доступ в класі та похідних класах

---

## 3. Методи класу. Inline-функції

### Методи класу

**Метод** — це функція-член класу, що визначає поведінку об'єктів цього класу.

**Особливості методів:**

- Мають доступ до всіх членів класу (включаючи private)
- Викликаються через об'єкт: `object.method()`
- Всередині класу можуть викликати інші методи без префікса

### Inline-функції

Функція, визначена повністю всередині класу, автоматично стає inline-функцією. В сучасному C++ термін inline означає "дозволені множинні визначення".

#### Способи створення inline-функцій:

**1. Неявне inline (визначення в класі):**

```cpp
class MyClass {
public:
    int getValue() const { return value; }  // автоматично inline
private:
    int value;
};
```

**2. Явне inline (з ключовим словом):**

```cpp
class MyClass {
public:
    int getValue() const;
private:
    int value;
};

inline int MyClass::getValue() const {
    return value;
}
```

**Переваги inline-функцій:**

- Зменшують накладні витрати на виклик функції
- Код вставляється безпосередньо в місце виклику
- Компілятор може проігнорувати запит на inline

---

## 4. Ініціалізація об'єктів

### Способи створення об'єктів

**1. Оголошення без параметрів:**

```cpp
MyClass obj;  // викликає конструктор за замовчуванням
```

**2. Оголошення з параметрами:**

```cpp
MyClass obj(10, 20);  // викликає параметризований конструктор
```

**3. Ініціалізація через методи:**

```cpp
MyClass obj;
obj.init();
obj.setData(100);
```

### Конструктори

```cpp
class Time {
    int hours, minutes, seconds;
public:
    Time() : hours(0), minutes(0), seconds(0) {}  // за замовчуванням
    Time(int h, int m, int s) : hours(h), minutes(m), seconds(s) {}  // параметризований
};
```

---

## 5. Вкладеність класів

### Визначення

Вкладений клас — це клас, оголошений всередині іншого класу. Вкладені класи підпорядковуються модифікаторам доступу.

### Приклад вкладеного класу:

```cpp
class Outer {
private:
    class Inner {  // приватний вкладений клас
        int data;
    public:
        void setData(int x) { data = x; }
        int getData() const { return data; }
    };
    
    Inner innerObj;
    
public:
    void setInnerData(int x) {
        innerObj.setData(x);
    }
    
    int getInnerData() const {
        return innerObj.getData();
    }
};
```

### Особливості вкладених класів:

- Мають доступ до всіх членів зовнішнього класу
- Можуть бути private, protected або public
- Область видимості обмежена зовнішнім класом
- Використовуються для логічного групування пов'язаних класів

---

## 6. Композиція об'єктів

### Визначення

Композиція в C++ — це фундаментальний принцип проектування, де один клас містить інший як частину.

### Приклад композиції:

```cpp
class Engine {
    int horsepower;
    bool isRunning;
public:
    Engine(int hp) : horsepower(hp), isRunning(false) {}
    void start() { isRunning = true; }
    void stop() { isRunning = false; }
    bool getStatus() const { return isRunning; }
};

class Car {
    Engine engine;      // композиція
    string brand;
    string model;
    
public:
    Car(string b, string m, int hp) 
        : brand(b), model(m), engine(hp) {}
    
    void startCar() {
        engine.start();
        cout << "Автомобіль запущено!" << endl;
    }
    
    void stopCar() {
        engine.stop();
        cout << "Автомобіль зупинено!" << endl;
    }
};
```

### Типи відносин між об'єктами:

**1. Композиція ("має частину"):**

- Об'єкт-частина не може існувати без цілого
- Життєвий цикл частини залежить від цілого
- Приклад: Дім має кімнати

**2. Агрегація ("має"):**

- Об'єкт-частина може існувати незалежно
- Слабший зв'язок між об'єктами
- Приклад: Університет має студентів

### Переваги композиції:

- **Інкапсуляція** — внутрішня структура прихована
- **Модульність** — легко змінювати компоненти
- **Повторне використання** — компоненти можна використовувати в інших класах
- **Гнучкість** — можна легко додавати нові компоненти

### Приклад складної композиції:

```cpp
class Address {
    string street, city, zipCode;
public:
    Address(string s, string c, string z) : street(s), city(c), zipCode(z) {}
    void display() const {
        cout << street << ", " << city << ", " << zipCode << endl;
    }
};

class Person {
    string name;
    Address homeAddress;    // композиція
    Address workAddress;    // композиция
    
public:
    Person(string n, Address home, Address work) 
        : name(n), homeAddress(home), workAddress(work) {}
        
    void showInfo() const {
        cout << "Ім'я: " << name << endl;
        cout << "Домашня адреса: ";
        homeAddress.display();
        cout << "Робоча адреса: ";
        workAddress.display();
    }
};
```

---

## Висновок

Класи в C++ забезпечують потужний механізм для створення складних програмних систем через:

- **Інкапсуляцію** даних та методів
- **Абстракцію** складних структур
- **Модульність** та повторне використання коду
- **Гнучкі відносини** між об'єктами через композицію та вкладеність

Правильне використання цих концепцій дозволяє створювати надійні, масштабовані та легкі для підтримки програми.